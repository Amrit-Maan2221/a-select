!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("@popperjs/core"),require("bootstrap")):"function"==typeof define&&define.amd?define(["jquery","@popperjs/core","bootstrap"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ASelect=e(t.jQuery,t.Popper)}(this,function(t,e){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e,n){return e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function o(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u=function(t){return t&&t.Math===Math&&t},f=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof c&&c)||u("object"==typeof c&&c)||function(){return this}()||Function("return this")(),d={},p=function(t){try{return!!t()}catch(t){return!0}},h=!p(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),v=!p(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),y=v,g=Function.prototype.call,b=y?g.bind(g):function(){return g.apply(g,arguments)},w={},m={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,$=S&&!m.call({1:2},1);w.f=$?function(t){var e=S(this,t);return!!e&&e.enumerable}:m;var O,x,C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=v,j=Function.prototype,k=j.call,P=E&&j.bind.bind(k,k),R=E?P:function(t){return function(){return k.apply(t,arguments)}},D=R,T=D({}.toString),I=D("".slice),A=function(t){return I(T(t),8,-1)},B=p,L=A,M=Object,N=R("".split),F=B(function(){return!M("z").propertyIsEnumerable(0)})?function(t){return"String"===L(t)?N(t,""):M(t)}:M,z=function(t){return null==t},V=z,U=TypeError,_=function(t){if(V(t))throw new U("Can't call method on "+t);return t},H=F,q=_,G=function(t){return H(q(t))},W="object"==typeof document&&document.all,K=void 0===W&&void 0!==W?function(t){return"function"==typeof t||t===W}:function(t){return"function"==typeof t},J=K,Y=function(t){return"object"==typeof t?null!==t:J(t)},Q=f,X=K,Z=function(t,e){return arguments.length<2?(n=Q[t],X(n)?n:void 0):Q[t]&&Q[t][e];var n},tt=R({}.isPrototypeOf),et=f.navigator,nt=et&&et.userAgent,rt=nt?String(nt):"",it=f,ot=rt,at=it.process,st=it.Deno,lt=at&&at.versions||st&&st.version,ct=lt&&lt.v8;ct&&(x=(O=ct.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!x&&ot&&(!(O=ot.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=ot.match(/Chrome\/(\d+)/))&&(x=+O[1]);var ut=x,ft=ut,dt=p,pt=f.String,ht=!!Object.getOwnPropertySymbols&&!dt(function(){var t=Symbol("symbol detection");return!pt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ft&&ft<41}),vt=ht&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yt=Z,gt=K,bt=tt,wt=Object,mt=vt?function(t){return"symbol"==typeof t}:function(t){var e=yt("Symbol");return gt(e)&&bt(e.prototype,wt(t))},St=String,$t=function(t){try{return St(t)}catch(t){return"Object"}},Ot=K,xt=$t,Ct=TypeError,Et=function(t){if(Ot(t))return t;throw new Ct(xt(t)+" is not a function")},jt=Et,kt=z,Pt=function(t,e){var n=t[e];return kt(n)?void 0:jt(n)},Rt=b,Dt=K,Tt=Y,It=TypeError,At={exports:{}},Bt=f,Lt=Object.defineProperty,Mt=function(t,e){try{Lt(Bt,t,{value:e,configurable:!0,writable:!0})}catch(n){Bt[t]=e}return e},Nt=f,Ft=Mt,zt="__core-js_shared__",Vt=At.exports=Nt[zt]||Ft(zt,{});(Vt.versions||(Vt.versions=[])).push({version:"3.47.0",mode:"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=At.exports,_t=Ut,Ht=function(t,e){return _t[t]||(_t[t]=e||{})},qt=_,Gt=Object,Wt=function(t){return Gt(qt(t))},Kt=Wt,Jt=R({}.hasOwnProperty),Yt=Object.hasOwn||function(t,e){return Jt(Kt(t),e)},Qt=R,Xt=0,Zt=Math.random(),te=Qt(1.1.toString),ee=function(t){return"Symbol("+(void 0===t?"":t)+")_"+te(++Xt+Zt,36)},ne=Ht,re=Yt,ie=ee,oe=ht,ae=vt,se=f.Symbol,le=ne("wks"),ce=ae?se.for||se:se&&se.withoutSetter||ie,ue=function(t){return re(le,t)||(le[t]=oe&&re(se,t)?se[t]:ce("Symbol."+t)),le[t]},fe=b,de=Y,pe=mt,he=Pt,ve=function(t,e){var n,r;if("string"===e&&Dt(n=t.toString)&&!Tt(r=Rt(n,t)))return r;if(Dt(n=t.valueOf)&&!Tt(r=Rt(n,t)))return r;if("string"!==e&&Dt(n=t.toString)&&!Tt(r=Rt(n,t)))return r;throw new It("Can't convert object to primitive value")},ye=TypeError,ge=ue("toPrimitive"),be=function(t,e){if(!de(t)||pe(t))return t;var n,r=he(t,ge);if(r){if(void 0===e&&(e="default"),n=fe(r,t,e),!de(n)||pe(n))return n;throw new ye("Can't convert object to primitive value")}return void 0===e&&(e="number"),ve(t,e)},we=mt,me=function(t){var e=be(t,"string");return we(e)?e:e+""},Se=Y,$e=f.document,Oe=Se($e)&&Se($e.createElement),xe=function(t){return Oe?$e.createElement(t):{}},Ce=xe,Ee=!h&&!p(function(){return 7!==Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a}),je=h,ke=b,Pe=w,Re=C,De=G,Te=me,Ie=Yt,Ae=Ee,Be=Object.getOwnPropertyDescriptor;d.f=je?Be:function(t,e){if(t=De(t),e=Te(e),Ae)try{return Be(t,e)}catch(t){}if(Ie(t,e))return Re(!ke(Pe.f,t,e),t[e])};var Le={},Me=h&&p(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ne=Y,Fe=String,ze=TypeError,Ve=function(t){if(Ne(t))return t;throw new ze(Fe(t)+" is not an object")},Ue=h,_e=Ee,He=Me,qe=Ve,Ge=me,We=TypeError,Ke=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,Ye="enumerable",Qe="configurable",Xe="writable";Le.f=Ue?He?function(t,e,n){if(qe(t),e=Ge(e),qe(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Xe in n&&!n[Xe]){var r=Je(t,e);r&&r[Xe]&&(t[e]=n.value,n={configurable:Qe in n?n[Qe]:r[Qe],enumerable:Ye in n?n[Ye]:r[Ye],writable:!1})}return Ke(t,e,n)}:Ke:function(t,e,n){if(qe(t),e=Ge(e),qe(n),_e)try{return Ke(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new We("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ze=Le,tn=C,en=h?function(t,e,n){return Ze.f(t,e,tn(1,n))}:function(t,e,n){return t[e]=n,t},nn={exports:{}},rn=h,on=Yt,an=Function.prototype,sn=rn&&Object.getOwnPropertyDescriptor,ln=on(an,"name"),cn={PROPER:ln&&"something"===function(){}.name,CONFIGURABLE:ln&&(!rn||rn&&sn(an,"name").configurable)},un=K,fn=Ut,dn=R(Function.toString);un(fn.inspectSource)||(fn.inspectSource=function(t){return dn(t)});var pn,hn,vn,yn=fn.inspectSource,gn=K,bn=f.WeakMap,wn=gn(bn)&&/native code/.test(String(bn)),mn=ee,Sn=Ht("keys"),$n=function(t){return Sn[t]||(Sn[t]=mn(t))},On={},xn=wn,Cn=f,En=Y,jn=en,kn=Yt,Pn=Ut,Rn=$n,Dn=On,Tn="Object already initialized",In=Cn.TypeError,An=Cn.WeakMap;if(xn||Pn.state){var Bn=Pn.state||(Pn.state=new An);Bn.get=Bn.get,Bn.has=Bn.has,Bn.set=Bn.set,pn=function(t,e){if(Bn.has(t))throw new In(Tn);return e.facade=t,Bn.set(t,e),e},hn=function(t){return Bn.get(t)||{}},vn=function(t){return Bn.has(t)}}else{var Ln=Rn("state");Dn[Ln]=!0,pn=function(t,e){if(kn(t,Ln))throw new In(Tn);return e.facade=t,jn(t,Ln,e),e},hn=function(t){return kn(t,Ln)?t[Ln]:{}},vn=function(t){return kn(t,Ln)}}var Mn={set:pn,get:hn,has:vn,enforce:function(t){return vn(t)?hn(t):pn(t,{})},getterFor:function(t){return function(e){var n;if(!En(e)||(n=hn(e)).type!==t)throw new In("Incompatible receiver, "+t+" required");return n}}},Nn=R,Fn=p,zn=K,Vn=Yt,Un=h,_n=cn.CONFIGURABLE,Hn=yn,qn=Mn.enforce,Gn=Mn.get,Wn=String,Kn=Object.defineProperty,Jn=Nn("".slice),Yn=Nn("".replace),Qn=Nn([].join),Xn=Un&&!Fn(function(){return 8!==Kn(function(){},"length",{value:8}).length}),Zn=String(String).split("String"),tr=nn.exports=function(t,e,n){"Symbol("===Jn(Wn(e),0,7)&&(e="["+Yn(Wn(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Vn(t,"name")||_n&&t.name!==e)&&(Un?Kn(t,"name",{value:e,configurable:!0}):t.name=e),Xn&&n&&Vn(n,"arity")&&t.length!==n.arity&&Kn(t,"length",{value:n.arity});try{n&&Vn(n,"constructor")&&n.constructor?Un&&Kn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=qn(t);return Vn(r,"source")||(r.source=Qn(Zn,"string"==typeof e?e:"")),t};Function.prototype.toString=tr(function(){return zn(this)&&Gn(this).source||Hn(this)},"toString");var er=nn.exports,nr=K,rr=Le,ir=er,or=Mt,ar=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(nr(n)&&ir(n,o,r),r.global)i?t[e]=n:or(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:rr.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},sr={},lr=Math.ceil,cr=Math.floor,ur=Math.trunc||function(t){var e=+t;return(e>0?cr:lr)(e)},fr=function(t){var e=+t;return e!=e||0===e?0:ur(e)},dr=fr,pr=Math.max,hr=Math.min,vr=fr,yr=Math.min,gr=function(t){var e=vr(t);return e>0?yr(e,9007199254740991):0},br=gr,wr=function(t){return br(t.length)},mr=G,Sr=function(t,e){var n=dr(t);return n<0?pr(n+e,0):hr(n,e)},$r=wr,Or=function(t){return function(e,n,r){var i=mr(e),o=$r(i);if(0===o)return!t&&-1;var a,s=Sr(r,o);if(t&&n!=n){for(;o>s;)if((a=i[s++])!=a)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},xr={includes:Or(!0),indexOf:Or(!1)},Cr=Yt,Er=G,jr=xr.indexOf,kr=On,Pr=R([].push),Rr=function(t,e){var n,r=Er(t),i=0,o=[];for(n in r)!Cr(kr,n)&&Cr(r,n)&&Pr(o,n);for(;e.length>i;)Cr(r,n=e[i++])&&(~jr(o,n)||Pr(o,n));return o},Dr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Tr=Rr,Ir=Dr.concat("length","prototype");sr.f=Object.getOwnPropertyNames||function(t){return Tr(t,Ir)};var Ar={};Ar.f=Object.getOwnPropertySymbols;var Br=Z,Lr=sr,Mr=Ar,Nr=Ve,Fr=R([].concat),zr=Br("Reflect","ownKeys")||function(t){var e=Lr.f(Nr(t)),n=Mr.f;return n?Fr(e,n(t)):e},Vr=Yt,Ur=zr,_r=d,Hr=Le,qr=p,Gr=K,Wr=/#|\.prototype\./,Kr=function(t,e){var n=Yr[Jr(t)];return n===Xr||n!==Qr&&(Gr(e)?qr(e):!!e)},Jr=Kr.normalize=function(t){return String(t).replace(Wr,".").toLowerCase()},Yr=Kr.data={},Qr=Kr.NATIVE="N",Xr=Kr.POLYFILL="P",Zr=Kr,ti=f,ei=d.f,ni=en,ri=ar,ii=Mt,oi=function(t,e,n){for(var r=Ur(e),i=Hr.f,o=_r.f,a=0;a<r.length;a++){var s=r[a];Vr(t,s)||n&&Vr(n,s)||i(t,s,o(e,s))}},ai=Zr,si=function(t,e){var n,r,i,o,a,s=t.target,l=t.global,c=t.stat;if(n=l?ti:c?ti[s]||ii(s,{}):ti[s]&&ti[s].prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=ei(n,r))&&a.value:n[r],!ai(l?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;oi(o,i)}(t.sham||i&&i.sham)&&ni(o,"sham",!0),ri(n,r,o,t)}},li=A,ci=Array.isArray||function(t){return"Array"===li(t)},ui=TypeError,fi=h,di=Le,pi=C,hi=function(t,e,n){fi?di.f(t,e,pi(0,n)):t[e]=n},vi={};vi[ue("toStringTag")]="z";var yi="[object z]"===String(vi),gi=yi,bi=K,wi=A,mi=ue("toStringTag"),Si=Object,$i="Arguments"===wi(function(){return arguments}()),Oi=gi?wi:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Si(t),mi))?n:$i?wi(e):"Object"===(r=wi(e))&&bi(e.callee)?"Arguments":r},xi=R,Ci=p,Ei=K,ji=Oi,ki=yn,Pi=function(){},Ri=Z("Reflect","construct"),Di=/^\s*(?:class|function)\b/,Ti=xi(Di.exec),Ii=!Di.test(Pi),Ai=function(t){if(!Ei(t))return!1;try{return Ri(Pi,[],t),!0}catch(t){return!1}},Bi=function(t){if(!Ei(t))return!1;switch(ji(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ii||!!Ti(Di,ki(t))}catch(t){return!0}};Bi.sham=!0;var Li=!Ri||Ci(function(){var t;return Ai(Ai.call)||!Ai(Object)||!Ai(function(){t=!0})||t})?Bi:Ai,Mi=ci,Ni=Li,Fi=Y,zi=ue("species"),Vi=Array,Ui=function(t){var e;return Mi(t)&&(e=t.constructor,(Ni(e)&&(e===Vi||Mi(e.prototype))||Fi(e)&&null===(e=e[zi]))&&(e=void 0)),void 0===e?Vi:e},_i=function(t,e){return new(Ui(t))(0===e?0:e)},Hi=p,qi=ut,Gi=ue("species"),Wi=function(t){return qi>=51||!Hi(function(){var e=[];return(e.constructor={})[Gi]=function(){return{foo:1}},1!==e[t](Boolean).foo})},Ki=si,Ji=p,Yi=ci,Qi=Y,Xi=Wt,Zi=wr,to=function(t){if(t>9007199254740991)throw ui("Maximum allowed index exceeded");return t},eo=hi,no=_i,ro=Wi,io=ut,oo=ue("isConcatSpreadable"),ao=io>=51||!Ji(function(){var t=[];return t[oo]=!1,t.concat()[0]!==t}),so=function(t){if(!Qi(t))return!1;var e=t[oo];return void 0!==e?!!e:Yi(t)};Ki({target:"Array",proto:!0,arity:1,forced:!ao||!ro("concat")},{concat:function(t){var e,n,r,i,o,a=Xi(this),s=no(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(so(o=-1===e?a:arguments[e]))for(i=Zi(o),to(l+i),n=0;n<i;n++,l++)n in o&&eo(s,l,o[n]);else to(l+1),eo(s,l++,o);return s.length=l,s}});var lo=A,co=R,uo=function(t){if("Function"===lo(t))return co(t)},fo=Et,po=v,ho=uo(uo.bind),vo=function(t,e){return fo(t),void 0===e?t:po?ho(t,e):function(){return t.apply(e,arguments)}},yo=vo,go=F,bo=Wt,wo=wr,mo=_i,So=R([].push),$o=function(t){var e=1===t,n=2===t,r=3===t,i=4===t,o=6===t,a=7===t,s=5===t||o;return function(l,c,u,f){for(var d,p,h=bo(l),v=go(h),y=wo(v),g=yo(c,u),b=0,w=f||mo,m=e?w(l,y):n||a?w(l,0):void 0;y>b;b++)if((s||b in v)&&(p=g(d=v[b],b,h),t))if(e)m[b]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:So(m,d)}else switch(t){case 4:return!1;case 7:So(m,d)}return o?-1:r||i?i:m}},Oo={forEach:$o(0),map:$o(1),filter:$o(2),find:$o(5)},xo=Oo.filter;si({target:"Array",proto:!0,forced:!Wi("filter")},{filter:function(t){return xo(this,t,arguments.length>1?arguments[1]:void 0)}});var Co={},Eo=Rr,jo=Dr,ko=Object.keys||function(t){return Eo(t,jo)},Po=h,Ro=Me,Do=Le,To=Ve,Io=G,Ao=ko;Co.f=Po&&!Ro?Object.defineProperties:function(t,e){To(t);for(var n,r=Io(e),i=Ao(e),o=i.length,a=0;o>a;)Do.f(t,n=i[a++],r[n]);return t};var Bo,Lo=Z("document","documentElement"),Mo=Ve,No=Co,Fo=Dr,zo=On,Vo=Lo,Uo=xe,_o="prototype",Ho="script",qo=$n("IE_PROTO"),Go=function(){},Wo=function(t){return"<"+Ho+">"+t+"</"+Ho+">"},Ko=function(t){t.write(Wo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Jo=function(){try{Bo=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Jo="undefined"!=typeof document?document.domain&&Bo?Ko(Bo):(e=Uo("iframe"),n="java"+Ho+":",e.style.display="none",Vo.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Wo("document.F=Object")),t.close(),t.F):Ko(Bo);for(var r=Fo.length;r--;)delete Jo[_o][Fo[r]];return Jo()};zo[qo]=!0;var Yo=Object.create||function(t,e){var n;return null!==t?(Go[_o]=Mo(t),n=new Go,Go[_o]=null,n[qo]=t):n=Jo(),void 0===e?n:No.f(n,e)},Qo=ue,Xo=Yo,Zo=Le.f,ta=Qo("unscopables"),ea=Array.prototype;void 0===ea[ta]&&Zo(ea,ta,{configurable:!0,value:Xo(null)});var na=function(t){ea[ta][t]=!0},ra=si,ia=Oo.find,oa=na,aa="find",sa=!0;aa in[]&&Array(1)[aa](function(){sa=!1}),ra({target:"Array",proto:!0,forced:sa},{find:function(t){return ia(this,t,arguments.length>1?arguments[1]:void 0)}}),oa(aa);var la=b,ca=Ve,ua=Pt,fa=function(t,e,n){var r,i;ca(t);try{if(!(r=ua(t,"return"))){if("throw"===e)throw n;return n}r=la(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return ca(r),n},da=Ve,pa=fa,ha={},va=ha,ya=ue("iterator"),ga=Array.prototype,ba=function(t){return void 0!==t&&(va.Array===t||ga[ya]===t)},wa=Oi,ma=Pt,Sa=z,$a=ha,Oa=ue("iterator"),xa=function(t){if(!Sa(t))return ma(t,Oa)||ma(t,"@@iterator")||$a[wa(t)]},Ca=b,Ea=Et,ja=Ve,ka=$t,Pa=xa,Ra=TypeError,Da=function(t,e){var n=arguments.length<2?Pa(t):e;if(Ea(n))return ja(Ca(n,t));throw new Ra(ka(t)+" is not iterable")},Ta=vo,Ia=b,Aa=Wt,Ba=function(t,e,n,r){try{return r?e(da(n)[0],n[1]):e(n)}catch(e){pa(t,"throw",e)}},La=ba,Ma=Li,Na=wr,Fa=hi,za=Da,Va=xa,Ua=Array,_a=ue("iterator"),Ha=!1;try{var qa=0,Ga={next:function(){return{done:!!qa++}},return:function(){Ha=!0}};Ga[_a]=function(){return this},Array.from(Ga,function(){throw 2})}catch(t){}var Wa=function(t,e){try{if(!e&&!Ha)return!1}catch(t){return!1}var n=!1;try{var r={};r[_a]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Ka=function(t){var e=Aa(t),n=Ma(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Ta(i,r>2?arguments[2]:void 0));var a,s,l,c,u,f,d=Va(e),p=0;if(!d||this===Ua&&La(d))for(a=Na(e),s=n?new this(a):Ua(a);a>p;p++)f=o?i(e[p],p):e[p],Fa(s,p,f);else for(s=n?new this:[],u=(c=za(e,d)).next;!(l=Ia(u,c)).done;p++)f=o?Ba(c,i,[l.value,p],!0):l.value,Fa(s,p,f);return s.length=p,s};si({target:"Array",stat:!0,forced:!Wa(function(t){Array.from(t)})},{from:Ka});var Ja=xr.includes,Ya=na;si({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(t){return Ja(this,t,arguments.length>1?arguments[1]:void 0)}}),Ya("includes");var Qa=p,Xa=function(t,e){var n=[][t];return!!n&&Qa(function(){n.call(null,e||function(){return 1},1)})},Za=si,ts=F,es=G,ns=Xa,rs=R([].join);Za({target:"Array",proto:!0,forced:ts!==Object||!ns("join",",")},{join:function(t){return rs(es(this),void 0===t?",":t)}});var is=Oo.map;si({target:"Array",proto:!0,forced:!Wi("map")},{map:function(t){return is(this,t,arguments.length>1?arguments[1]:void 0)}});var os={exports:{}},as={},ss=R([].slice),ls=A,cs=G,us=sr.f,fs=ss,ds="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];as.f=function(t){return ds&&"Window"===ls(t)?function(t){try{return us(t)}catch(t){return fs(ds)}}(t):us(cs(t))};var ps=p(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),hs=p,vs=Y,ys=A,gs=ps,bs=Object.isExtensible,ws=hs(function(){bs(1)})||gs?function(t){return!!vs(t)&&((!gs||"ArrayBuffer"!==ys(t))&&(!bs||bs(t)))}:bs,ms=!p(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ss=si,$s=R,Os=On,xs=Y,Cs=Yt,Es=Le.f,js=sr,ks=as,Ps=ws,Rs=ms,Ds=!1,Ts=ee("meta"),Is=0,As=function(t){Es(t,Ts,{value:{objectID:"O"+Is++,weakData:{}}})},Bs=os.exports={enable:function(){Bs.enable=function(){},Ds=!0;var t=js.f,e=$s([].splice),n={};n[Ts]=1,t(n).length&&(js.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===Ts){e(r,i,1);break}return r},Ss({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ks.f}))},fastKey:function(t,e){if(!xs(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Cs(t,Ts)){if(!Ps(t))return"F";if(!e)return"E";As(t)}return t[Ts].objectID},getWeakData:function(t,e){if(!Cs(t,Ts)){if(!Ps(t))return!0;if(!e)return!1;As(t)}return t[Ts].weakData},onFreeze:function(t){return Rs&&Ds&&Ps(t)&&!Cs(t,Ts)&&As(t),t}};Os[Ts]=!0;var Ls,Ms,Ns,Fs=os.exports,zs=vo,Vs=b,Us=Ve,_s=$t,Hs=ba,qs=wr,Gs=tt,Ws=Da,Ks=xa,Js=fa,Ys=TypeError,Qs=function(t,e){this.stopped=t,this.result=e},Xs=Qs.prototype,Zs=function(t,e,n){var r,i,o,a,s,l,c,u=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=zs(e,u),y=function(t){return r&&Js(r,"normal"),new Qs(!0,t)},g=function(t){return f?(Us(t),h?v(t[0],t[1],y):v(t[0],t[1])):h?v(t,y):v(t)};if(d)r=t.iterator;else if(p)r=t;else{if(!(i=Ks(t)))throw new Ys(_s(t)+" is not iterable");if(Hs(i)){for(o=0,a=qs(t);a>o;o++)if((s=g(t[o]))&&Gs(Xs,s))return s;return new Qs(!1)}r=Ws(t,i)}for(l=d?t.next:r.next;!(c=Vs(l,r)).done;){try{s=g(c.value)}catch(t){Js(r,"throw",t)}if("object"==typeof s&&s&&Gs(Xs,s))return s}return new Qs(!1)},tl=tt,el=TypeError,nl=function(t,e){if(tl(e,t))return t;throw new el("Incorrect invocation")},rl=Le.f,il=Yt,ol=ue("toStringTag"),al=function(t,e,n){t&&!n&&(t=t.prototype),t&&!il(t,ol)&&rl(t,ol,{configurable:!0,value:e})},sl=R,ll=Et,cl=Y,ul=function(t){return cl(t)||null===t},fl=String,dl=TypeError,pl=function(t,e,n){try{return sl(ll(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},hl=Y,vl=_,yl=function(t){if(ul(t))return t;throw new dl("Can't set "+fl(t)+" as a prototype")},gl=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=pl(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return vl(n),yl(r),hl(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0),bl=K,wl=Y,ml=gl,Sl=si,$l=f,Ol=R,xl=Zr,Cl=ar,El=Fs,jl=Zs,kl=nl,Pl=K,Rl=z,Dl=Y,Tl=p,Il=Wa,Al=al,Bl=function(t,e,n){var r,i;return ml&&bl(r=e.constructor)&&r!==n&&wl(i=r.prototype)&&i!==n.prototype&&ml(t,i),t},Ll=er,Ml=Le,Nl=function(t,e,n){return n.get&&Ll(n.get,e,{getter:!0}),n.set&&Ll(n.set,e,{setter:!0}),Ml.f(t,e,n)},Fl=ar,zl=!p(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Vl=Yt,Ul=K,_l=Wt,Hl=zl,ql=$n("IE_PROTO"),Gl=Object,Wl=Gl.prototype,Kl=Hl?Gl.getPrototypeOf:function(t){var e=_l(t);if(Vl(e,ql))return e[ql];var n=e.constructor;return Ul(n)&&e instanceof n?n.prototype:e instanceof Gl?Wl:null},Jl=p,Yl=K,Ql=Y,Xl=Kl,Zl=ar,tc=ue("iterator"),ec=!1;[].keys&&("next"in(Ns=[].keys())?(Ms=Xl(Xl(Ns)))!==Object.prototype&&(Ls=Ms):ec=!0);var nc=!Ql(Ls)||Jl(function(){var t={};return Ls[tc].call(t)!==t});nc&&(Ls={}),Yl(Ls[tc])||Zl(Ls,tc,function(){return this});var rc={IteratorPrototype:Ls,BUGGY_SAFARI_ITERATORS:ec},ic=rc.IteratorPrototype,oc=Yo,ac=C,sc=al,lc=ha,cc=function(){return this},uc=si,fc=b,dc=K,pc=function(t,e,n,r){var i=e+" Iterator";return t.prototype=oc(ic,{next:ac(+!r,n)}),sc(t,i,!1),lc[i]=cc,t},hc=Kl,vc=gl,yc=al,gc=en,bc=ar,wc=ha,mc=cn.PROPER,Sc=cn.CONFIGURABLE,$c=rc.IteratorPrototype,Oc=rc.BUGGY_SAFARI_ITERATORS,xc=ue("iterator"),Cc="keys",Ec="values",jc="entries",kc=function(){return this},Pc=function(t,e,n,r,i,o,a){pc(n,e,r);var s,l,c,u=function(t){if(t===i&&v)return v;if(!Oc&&t&&t in p)return p[t];switch(t){case Cc:case Ec:case jc:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,p=t.prototype,h=p[xc]||p["@@iterator"]||i&&p[i],v=!Oc&&h||u(i),y="Array"===e&&p.entries||h;if(y&&(s=hc(y.call(new t)))!==Object.prototype&&s.next&&(hc(s)!==$c&&(vc?vc(s,$c):dc(s[xc])||bc(s,xc,kc)),yc(s,f,!0)),mc&&i===Ec&&h&&h.name!==Ec&&(Sc?gc(p,"name",Ec):(d=!0,v=function(){return fc(h,this)})),i)if(l={values:u(Ec),keys:o?v:u(Cc),entries:u(jc)},a)for(c in l)(Oc||d||!(c in p))&&bc(p,c,l[c]);else uc({target:e,proto:!0,forced:Oc||d},l);return p[xc]!==v&&bc(p,xc,v,{name:i}),wc[e]=v,l},Rc=function(t,e){return{value:t,done:e}},Dc=Z,Tc=Nl,Ic=h,Ac=ue("species"),Bc=function(t){var e=Dc(t);Ic&&e&&!e[Ac]&&Tc(e,Ac,{configurable:!0,get:function(){return this}})},Lc=Yo,Mc=Nl,Nc=function(t,e,n){for(var r in e)Fl(t,r,e[r],n);return t},Fc=vo,zc=nl,Vc=z,Uc=Zs,_c=Pc,Hc=Rc,qc=Bc,Gc=h,Wc=Fs.fastKey,Kc=Mn.set,Jc=Mn.getterFor,Yc={getConstructor:function(t,e,n,r){var i=t(function(t,i){zc(t,o),Kc(t,{type:e,index:Lc(null),first:null,last:null,size:0}),Gc||(t.size=0),Vc(i)||Uc(i,t[r],{that:t,AS_ENTRIES:n})}),o=i.prototype,a=Jc(e),s=function(t,e,n){var r,i,o=a(t),s=l(t,e);return s?s.value=n:(o.last=s={index:i=Wc(e,!0),key:e,value:n,previous:r=o.last,next:null,removed:!1},o.first||(o.first=s),r&&(r.next=s),Gc?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},l=function(t,e){var n,r=a(t),i=Wc(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return Nc(o,{clear:function(){for(var t=a(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=Lc(null),Gc?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=l(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),Gc?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=Fc(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Nc(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),Gc&&Mc(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Jc(e),o=Jc(r);_c(t,e,function(t,e){Kc(this,{type:r,target:t,state:i(t),kind:e,last:null})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?Hc("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,Hc(void 0,!0))},n?"entries":"values",!n,!0),qc(e)}};(function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=$l[t],s=a&&a.prototype,l=a,c={},u=function(t){var e=Ol(s[t]);Cl(s,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(i&&!Dl(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return i&&!Dl(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(i&&!Dl(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(xl(t,!Pl(a)||!(i||s.forEach&&!Tl(function(){(new a).entries().next()}))))l=n.getConstructor(e,t,r,o),El.enable();else if(xl(t,!0)){var f=new l,d=f[o](i?{}:-0,1)!==f,p=Tl(function(){f.has(1)}),h=Il(function(t){new a(t)}),v=!i&&Tl(function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)});h||((l=e(function(t,e){kl(t,s);var n=Bl(new a,t,l);return Rl(e)||jl(e,n[o],{that:n,AS_ENTRIES:r}),n})).prototype=s,s.constructor=l),(p||v)&&(u("delete"),u("has"),r&&u("get")),(v||d)&&u(o),i&&s.clear&&delete s.clear}c[t]=l,Sl({global:!0,constructor:!0,forced:l!==a},c),Al(l,t),i||n.setStrong(l,t,r)})("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Yc);var Qc=Wt,Xc=ko;si({target:"Object",stat:!0,forced:p(function(){Xc(1)})},{keys:function(t){return Xc(Qc(t))}});var Zc=Oi,tu=yi?{}.toString:function(){return"[object "+Zc(this)+"]"};yi||ar(Object.prototype,"toString",tu,{unsafe:!0});var eu,nu,ru,iu,ou=f,au=rt,su=A,lu=function(t){return au.slice(0,t.length)===t},cu=lu("Bun/")?"BUN":lu("Cloudflare-Workers")?"CLOUDFLARE":lu("Deno/")?"DENO":lu("Node.js/")?"NODE":ou.Bun&&"string"==typeof Bun.version?"BUN":ou.Deno&&"object"==typeof Deno.version?"DENO":"process"===su(ou.process)?"NODE":ou.window&&ou.document?"BROWSER":"REST",uu="NODE"===cu,fu=f,du=Li,pu=$t,hu=TypeError,vu=Ve,yu=function(t){if(du(t))return t;throw new hu(pu(t)+" is not a constructor")},gu=z,bu=ue("species"),wu=v,mu=Function.prototype,Su=mu.apply,$u=mu.call,Ou="object"==typeof Reflect&&Reflect.apply||(wu?$u.bind(Su):function(){return $u.apply(Su,arguments)}),xu=TypeError,Cu=/(?:ipad|iphone|ipod).*applewebkit/i.test(rt),Eu=f,ju=Ou,ku=vo,Pu=K,Ru=Yt,Du=p,Tu=Lo,Iu=ss,Au=xe,Bu=function(t,e){if(t<e)throw new xu("Not enough arguments");return t},Lu=Cu,Mu=uu,Nu=Eu.setImmediate,Fu=Eu.clearImmediate,zu=Eu.process,Vu=Eu.Dispatch,Uu=Eu.Function,_u=Eu.MessageChannel,Hu=Eu.String,qu=0,Gu={},Wu="onreadystatechange";Du(function(){eu=Eu.location});var Ku=function(t){if(Ru(Gu,t)){var e=Gu[t];delete Gu[t],e()}},Ju=function(t){return function(){Ku(t)}},Yu=function(t){Ku(t.data)},Qu=function(t){Eu.postMessage(Hu(t),eu.protocol+"//"+eu.host)};Nu&&Fu||(Nu=function(t){Bu(arguments.length,1);var e=Pu(t)?t:Uu(t),n=Iu(arguments,1);return Gu[++qu]=function(){ju(e,void 0,n)},nu(qu),qu},Fu=function(t){delete Gu[t]},Mu?nu=function(t){zu.nextTick(Ju(t))}:Vu&&Vu.now?nu=function(t){Vu.now(Ju(t))}:_u&&!Lu?(iu=(ru=new _u).port2,ru.port1.onmessage=Yu,nu=ku(iu.postMessage,iu)):Eu.addEventListener&&Pu(Eu.postMessage)&&!Eu.importScripts&&eu&&"file:"!==eu.protocol&&!Du(Qu)?(nu=Qu,Eu.addEventListener("message",Yu,!1)):nu=Wu in Au("script")?function(t){Tu.appendChild(Au("script"))[Wu]=function(){Tu.removeChild(this),Ku(t)}}:function(t){setTimeout(Ju(t),0)});var Xu={set:Nu},Zu=f,tf=h,ef=Object.getOwnPropertyDescriptor,nf=function(){this.head=null,this.tail=null};nf.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var rf,of,af,sf,lf,cf=nf,uf=/ipad|iphone|ipod/i.test(rt)&&"undefined"!=typeof Pebble,ff=/web0s(?!.*chrome)/i.test(rt),df=f,pf=function(t){if(!tf)return Zu[t];var e=ef(Zu,t);return e&&e.value},hf=vo,vf=Xu.set,yf=cf,gf=Cu,bf=uf,wf=ff,mf=uu,Sf=df.MutationObserver||df.WebKitMutationObserver,$f=df.document,Of=df.process,xf=df.Promise,Cf=pf("queueMicrotask");if(!Cf){var Ef=new yf,jf=function(){var t,e;for(mf&&(t=Of.domain)&&t.exit();e=Ef.get();)try{e()}catch(t){throw Ef.head&&rf(),t}t&&t.enter()};gf||mf||wf||!Sf||!$f?!bf&&xf&&xf.resolve?((sf=xf.resolve(void 0)).constructor=xf,lf=hf(sf.then,sf),rf=function(){lf(jf)}):mf?rf=function(){Of.nextTick(jf)}:(vf=hf(vf,df),rf=function(){vf(jf)}):(of=!0,af=$f.createTextNode(""),new Sf(jf).observe(af,{characterData:!0}),rf=function(){af.data=of=!of}),Cf=function(t){Ef.head||rf(),Ef.add(t)}}var kf=Cf,Pf=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Rf=f.Promise,Df=f,Tf=Rf,If=K,Af=Zr,Bf=yn,Lf=ue,Mf=cu,Nf=ut;Tf&&Tf.prototype;var Ff=Lf("species"),zf=!1,Vf=If(Df.PromiseRejectionEvent),Uf=Af("Promise",function(){var t=Bf(Tf),e=t!==String(Tf);if(!e&&66===Nf)return!0;if(!Nf||Nf<51||!/native code/.test(t)){var n=new Tf(function(t){t(1)}),r=function(t){t(function(){},function(){})};if((n.constructor={})[Ff]=r,!(zf=n.then(function(){})instanceof r))return!0}return!(e||"BROWSER"!==Mf&&"DENO"!==Mf||Vf)}),_f={CONSTRUCTOR:Uf,REJECTION_EVENT:Vf,SUBCLASSING:zf},Hf={},qf=Et,Gf=TypeError,Wf=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw new Gf("Bad Promise constructor");e=t,n=r}),this.resolve=qf(e),this.reject=qf(n)};Hf.f=function(t){return new Wf(t)};var Kf,Jf,Yf,Qf,Xf=si,Zf=uu,td=f,ed=fu,nd=b,rd=ar,id=gl,od=al,ad=Bc,sd=Et,ld=K,cd=Y,ud=nl,fd=function(t,e){var n,r=vu(t).constructor;return void 0===r||gu(n=vu(r)[bu])?e:yu(n)},dd=Xu.set,pd=kf,hd=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},vd=Pf,yd=cf,gd=Mn,bd=Rf,wd=Hf,md="Promise",Sd=_f.CONSTRUCTOR,$d=_f.REJECTION_EVENT,Od=_f.SUBCLASSING,xd=gd.getterFor(md),Cd=gd.set,Ed=bd&&bd.prototype,jd=bd,kd=Ed,Pd=td.TypeError,Rd=td.document,Dd=td.process,Td=wd.f,Id=Td,Ad=!!(Rd&&Rd.createEvent&&td.dispatchEvent),Bd="unhandledrejection",Ld=function(t){var e;return!(!cd(t)||!ld(e=t.then))&&e},Md=function(t,e){var n,r,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&Ud(e),e.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===t.promise?c(new Pd("Promise-chain cycle")):(r=Ld(n))?nd(r,n,l,c):l(n)):c(o)}catch(t){u&&!i&&u.exit(),c(t)}},Nd=function(t,e){t.notified||(t.notified=!0,pd(function(){for(var n,r=t.reactions;n=r.get();)Md(n,t);t.notified=!1,e&&!t.rejection&&zd(t)}))},Fd=function(t,e,n){var r,i;Ad?((r=Rd.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),td.dispatchEvent(r)):r={promise:e,reason:n},!$d&&(i=td["on"+t])?i(r):t===Bd&&hd("Unhandled promise rejection",n)},zd=function(t){nd(dd,td,function(){var e,n=t.facade,r=t.value;if(Vd(t)&&(e=vd(function(){Zf?Dd.emit("unhandledRejection",r,n):Fd(Bd,n,r)}),t.rejection=Zf||Vd(t)?2:1,e.error))throw e.value})},Vd=function(t){return 1!==t.rejection&&!t.parent},Ud=function(t){nd(dd,td,function(){var e=t.facade;Zf?Dd.emit("rejectionHandled",e):Fd("rejectionhandled",e,t.value)})},_d=function(t,e,n){return function(r){t(e,r,n)}},Hd=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Nd(t,!0))},qd=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new Pd("Promise can't be resolved itself");var r=Ld(e);r?pd(function(){var n={done:!1};try{nd(r,e,_d(qd,n,t),_d(Hd,n,t))}catch(e){Hd(n,e,t)}}):(t.value=e,t.state=1,Nd(t,!1))}catch(e){Hd({done:!1},e,t)}}};if(Sd&&(kd=(jd=function(t){ud(this,kd),sd(t),nd(Kf,this);var e=xd(this);try{t(_d(qd,e),_d(Hd,e))}catch(t){Hd(e,t)}}).prototype,(Kf=function(t){Cd(this,{type:md,done:!1,notified:!1,parent:!1,reactions:new yd,rejection:!1,state:0,value:null})}).prototype=rd(kd,"then",function(t,e){var n=xd(this),r=Td(fd(this,jd));return n.parent=!0,r.ok=!ld(t)||t,r.fail=ld(e)&&e,r.domain=Zf?Dd.domain:void 0,0===n.state?n.reactions.add(r):pd(function(){Md(r,n)}),r.promise}),Jf=function(){var t=new Kf,e=xd(t);this.promise=t,this.resolve=_d(qd,e),this.reject=_d(Hd,e)},wd.f=Td=function(t){return t===jd||t===Yf?new Jf(t):Id(t)},ld(bd)&&Ed!==Object.prototype)){Qf=Ed.then,Od||rd(Ed,"then",function(t,e){var n=this;return new jd(function(t,e){nd(Qf,n,t,e)}).then(t,e)},{unsafe:!0});try{delete Ed.constructor}catch(t){}id&&id(Ed,kd)}Xf({global:!0,constructor:!0,wrap:!0,forced:Sd},{Promise:jd}),Yf=ed.Promise,od(jd,md,!1),ad(md);var Gd=Rf,Wd=_f.CONSTRUCTOR||!Wa(function(t){Gd.all(t).then(void 0,function(){})}),Kd=b,Jd=Et,Yd=Hf,Qd=Pf,Xd=Zs;si({target:"Promise",stat:!0,forced:Wd},{all:function(t){var e=this,n=Yd.f(e),r=n.resolve,i=n.reject,o=Qd(function(){var n=Jd(e.resolve),o=[],a=0,s=1;Xd(t,function(t){var l=a++,c=!1;s++,Kd(n,e,t).then(function(t){c||(c=!0,o[l]=t,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise}});var Zd=si,tp=_f.CONSTRUCTOR,ep=Rf,np=Z,rp=K,ip=ar,op=ep&&ep.prototype;if(Zd({target:"Promise",proto:!0,forced:tp,real:!0},{catch:function(t){return this.then(void 0,t)}}),rp(ep)){var ap=np("Promise").prototype.catch;op.catch!==ap&&ip(op,"catch",ap,{unsafe:!0})}var sp=b,lp=Et,cp=Hf,up=Pf,fp=Zs;si({target:"Promise",stat:!0,forced:Wd},{race:function(t){var e=this,n=cp.f(e),r=n.reject,i=up(function(){var i=lp(e.resolve);fp(t,function(t){sp(i,e,t).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var dp=Hf;si({target:"Promise",stat:!0,forced:_f.CONSTRUCTOR},{reject:function(t){var e=dp.f(this);return(0,e.reject)(t),e.promise}});var pp=Ve,hp=Y,vp=Hf,yp=si,gp=_f.CONSTRUCTOR,bp=function(t,e){if(pp(t),hp(e)&&e.constructor===t)return e;var n=vp.f(t);return(0,n.resolve)(e),n.promise};Z("Promise"),yp({target:"Promise",stat:!0,forced:gp},{resolve:function(t){return bp(this,t)}});var wp=Oi,mp=String,Sp=function(t){if("Symbol"===wp(t))throw new TypeError("Cannot convert a Symbol value to a string");return mp(t)},$p=Ve,Op=function(){var t=$p(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},xp=p,Cp=f.RegExp,Ep=xp(function(){var t=Cp("a","y");return t.lastIndex=2,null!==t.exec("abcd")});Ep||xp(function(){return!Cp("a","y").sticky});var jp,kp,Pp={BROKEN_CARET:Ep||xp(function(){var t=Cp("^r","gy");return t.lastIndex=2,null!==t.exec("str")})},Rp=p,Dp=f.RegExp,Tp=Rp(function(){var t=Dp(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}),Ip=p,Ap=f.RegExp,Bp=Ip(function(){var t=Ap("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),Lp=b,Mp=R,Np=Sp,Fp=Op,zp=Pp,Vp=Yo,Up=Mn.get,_p=Tp,Hp=Bp,qp=Ht("native-string-replace",String.prototype.replace),Gp=RegExp.prototype.exec,Wp=Gp,Kp=Mp("".charAt),Jp=Mp("".indexOf),Yp=Mp("".replace),Qp=Mp("".slice),Xp=(kp=/b*/g,Lp(Gp,jp=/a/,"a"),Lp(Gp,kp,"a"),0!==jp.lastIndex||0!==kp.lastIndex),Zp=zp.BROKEN_CARET,th=void 0!==/()??/.exec("")[1];(Xp||th||Zp||_p||Hp)&&(Wp=function(t){var e,n,r,i,o,a,s,l=this,c=Up(l),u=Np(t),f=c.raw;if(f)return f.lastIndex=l.lastIndex,e=Lp(Wp,f,u),l.lastIndex=f.lastIndex,e;var d=c.groups,p=Zp&&l.sticky,h=Lp(Fp,l),v=l.source,y=0,g=u;if(p&&(h=Yp(h,"y",""),-1===Jp(h,"g")&&(h+="g"),g=Qp(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==Kp(u,l.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,y++),n=new RegExp("^(?:"+v+")",h)),th&&(n=new RegExp("^"+v+"$(?!\\s)",h)),Xp&&(r=l.lastIndex),i=Lp(Gp,p?n:l,g),p?i?(i.input=Qp(i.input,y),i[0]=Qp(i[0],y),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:Xp&&i&&(l.lastIndex=l.global?i.index+i[0].length:r),th&&i&&i.length>1&&Lp(qp,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&d)for(i.groups=a=Vp(null),o=0;o<d.length;o++)a[(s=d[o])[0]]=i[s[1]];return i});var eh=Wp;si({target:"RegExp",proto:!0,forced:/./.exec!==eh},{exec:eh});var nh=Y,rh=A,ih=ue("match"),oh=function(t){var e;return nh(t)&&(void 0!==(e=t[ih])?!!e:"RegExp"===rh(t))},ah=TypeError,sh=ue("match"),lh=si,ch=function(t){if(oh(t))throw new ah("The method doesn't accept regular expressions");return t},uh=_,fh=Sp,dh=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[sh]=!1,"/./"[t](e)}catch(t){}}return!1},ph=R("".indexOf);lh({target:"String",proto:!0,forced:!dh("includes")},{includes:function(t){return!!~ph(fh(uh(this)),fh(ch(t)),arguments.length>1?arguments[1]:void 0)}});var hh,vh=R,yh=fr,gh=Sp,bh=_,wh=vh("".charAt),mh=vh("".charCodeAt),Sh=vh("".slice),$h={charAt:(hh=!0,function(t,e){var n,r,i=gh(bh(t)),o=yh(e),a=i.length;return o<0||o>=a?hh?"":void 0:(n=mh(i,o))<55296||n>56319||o+1===a||(r=mh(i,o+1))<56320||r>57343?hh?wh(i,o):n:hh?Sh(i,o,o+2):r-56320+(n-55296<<10)+65536})},Oh=$h.charAt,xh=Sp,Ch=Mn,Eh=Pc,jh=Rc,kh="String Iterator",Ph=Ch.set,Rh=Ch.getterFor(kh);Eh(String,"String",function(t){Ph(this,{type:kh,string:xh(t),index:0})},function(){var t,e=Rh(this),n=e.string,r=e.index;return r>=n.length?jh(void 0,!0):(t=Oh(n,r),e.index+=t.length,jh(t,!1))});var Dh=b,Th=ar,Ih=eh,Ah=p,Bh=ue,Lh=en,Mh=Bh("species"),Nh=RegExp.prototype,Fh=$h.charAt,zh=R,Vh=Wt,Uh=Math.floor,_h=zh("".charAt),Hh=zh("".replace),qh=zh("".slice),Gh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Wh=/\$([$&'`]|\d{1,2})/g,Kh=p,Jh=f.RegExp,Yh=!Kh(function(){var t=!0;try{Jh(".","d")}catch(e){t=!1}var e={},n="",r=t?"dgimsy":"gimsy",i=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(Jh.prototype,"flags").get.call(e)!==r||n!==r}),Qh=b,Xh=Yt,Zh=tt,tv={correct:Yh},ev=Op,nv=RegExp.prototype,rv=b,iv=Ve,ov=K,av=A,sv=eh,lv=TypeError,cv=Ou,uv=b,fv=R,dv=function(t,e,n,r){var i=Bh(t),o=!Ah(function(){var e={};return e[i]=function(){return 7},7!==""[t](e)}),a=o&&!Ah(function(){var e=!1,n=/a/;if("split"===t){var r={};r[Mh]=function(){return n},(n={constructor:r,flags:""})[i]=/./[i]}return n.exec=function(){return e=!0,null},n[i](""),!e});if(!o||!a||n){var s=/./[i],l=e(i,""[t],function(t,e,n,r,i){var a=e.exec;return a===Ih||a===Nh.exec?o&&!i?{done:!0,value:Dh(s,e,n,r)}:{done:!0,value:Dh(t,n,e,r)}:{done:!1}});Th(String.prototype,t,l[0]),Th(Nh,i,l[1])}r&&Lh(Nh[i],"sham",!0)},pv=p,hv=Ve,vv=K,yv=Y,gv=fr,bv=gr,wv=Sp,mv=_,Sv=function(t,e,n){return e+(n?Fh(t,e).length:1)},$v=Pt,Ov=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,l=Wh;return void 0!==i&&(i=Vh(i),l=Gh),Hh(o,l,function(o,l){var c;switch(_h(l,0)){case"$":return"$";case"&":return t;case"`":return qh(e,0,n);case"'":return qh(e,a);case"<":c=i[qh(l,1,-1)];break;default:var u=+l;if(0===u)return o;if(u>s){var f=Uh(u/10);return 0===f?o:f<=s?void 0===r[f-1]?_h(l,1):r[f-1]+_h(l,1):o}c=r[u-1]}return void 0===c?"":c})},xv=tv.correct?function(t){return t.flags}:function(t){return tv.correct||!Zh(nv,t)||Xh(t,"flags")?t.flags:Qh(ev,t)},Cv=function(t,e){var n=t.exec;if(ov(n)){var r=rv(n,t,e);return null!==r&&iv(r),r}if("RegExp"===av(t))return rv(sv,t,e);throw new lv("RegExp#exec called on incompatible receiver")},Ev=ue("replace"),jv=Math.max,kv=Math.min,Pv=fv([].concat),Rv=fv([].push),Dv=fv("".indexOf),Tv=fv("".slice),Iv=function(t){return void 0===t?t:String(t)},Av="$0"==="a".replace(/./,"$0"),Bv=!!/./[Ev]&&""===/./[Ev]("a","$0");dv("replace",function(t,e,n){var r=Bv?"$":"$0";return[function(t,n){var r=mv(this),i=yv(t)?$v(t,Ev):void 0;return i?uv(i,t,r,n):uv(e,wv(r),t,n)},function(t,i){var o=hv(this),a=wv(t);if("string"==typeof i&&-1===Dv(i,r)&&-1===Dv(i,"$<")){var s=n(e,o,a,i);if(s.done)return s.value}var l=vv(i);l||(i=wv(i));var c,u=wv(xv(o)),f=-1!==Dv(u,"g");f&&(c=-1!==Dv(u,"u"),o.lastIndex=0);for(var d,p=[];null!==(d=Cv(o,a))&&(Rv(p,d),f);){""===wv(d[0])&&(o.lastIndex=Sv(a,bv(o.lastIndex),c))}for(var h="",v=0,y=0;y<p.length;y++){for(var g,b=wv((d=p[y])[0]),w=jv(kv(gv(d.index),a.length),0),m=[],S=1;S<d.length;S++)Rv(m,Iv(d[S]));var $=d.groups;if(l){var O=Pv([b],m,w,a);void 0!==$&&Rv(O,$),g=wv(cv(i,void 0,O))}else g=Ov(b,a,w,m,$,i);w>=v&&(h+=Tv(a,v,w)+g,v=w+b.length)}return h+Tv(a,v)}]},!!pv(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!Av||Bv);var Lv,Mv="\t\n\v\f\r                　\u2028\u2029\ufeff",Nv=_,Fv=Sp,zv=Mv,Vv=R("".replace),Uv=RegExp("^["+zv+"]+"),_v=RegExp("(^|[^"+zv+"])["+zv+"]+$"),Hv={trim:(Lv=3,function(t){var e=Fv(Nv(t));return 1&Lv&&(e=Vv(e,Uv,"")),2&Lv&&(e=Vv(e,_v,"$1")),e})},qv=cn.PROPER,Gv=p,Wv=Mv,Kv=Hv.trim;si({target:"String",proto:!0,forced:function(t){return Gv(function(){return!!Wv[t]()||"​᠎"!=="​᠎"[t]()||qv&&Wv[t].name!==t})}("trim")},{trim:function(){return Kv(this)}});var Jv=xe("span").classList,Yv=Jv&&Jv.constructor&&Jv.constructor.prototype,Qv=Yv===Object.prototype?void 0:Yv,Xv=Oo.forEach,Zv=Xa("forEach")?[].forEach:function(t){return Xv(this,t,arguments.length>1?arguments[1]:void 0)},ty=f,ey={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ny=Qv,ry=Zv,iy=en,oy=function(t){if(t&&t.forEach!==ry)try{iy(t,"forEach",ry)}catch(e){t.forEach=ry}};for(var ay in ey)ey[ay]&&oy(ty[ay]&&ty[ay].prototype);oy(ny);var sy=t.fn.val;function ly(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a-select-")+Array.from({length:8},function(){return t.charAt(Math.floor(52*Math.random()))}).join("")}function cy(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.length){var r=t.position().top,i=3*t.outerHeight(),o=e.height(),a=e.scrollTop(),s=null;r+i>o+a?s=r+i-o:a>0&&r-i<a&&(s=Math.max(r-i,0)),null!==s&&(n?e.stop().animate({scrollTop:s},100):e.scrollTop(s))}}function uy(t){return t?t.replace(/^[a-z]+/,"").replace(/([A-Z])/g," $1").trim():""}function fy(t,e){t&&t.length?(dy(t),t.attr("data-bs-toggle","tooltip").attr("title",e).tooltip("dispose").tooltip({placement:"bottom",trigger:"hover"})):console.warn("Element does not exist in DOM",t)}function dy(t){t&&t.length?(t.tooltip("dispose"),t.removeAttr("data-bs-toggle").removeAttr("title")):console.warn("Element does not exist in DOM",t)}t.fn.val=function(e){return void 0===e?sy.call(this):this.each(function(){var n=t(this).data("aselect");n?n.selectRow(e,!1):sy.call(t(this),e)})};var py="aselect",hy="data-quicklink",vy="data-show-clear-button",yy="data-headers",gy="data-url",by="data-unique-by",wy="data-creatable",my="data-depends-on",Sy="data-hide-excluded",$y="multiple";t.fn.aSelect=function(e){if("string"==typeof e){var n=e;return this.each(function(){var e=t(this).data(py);e&&"function"==typeof e[n]&&e[n]()})}var r=t.fn.aSelect.defaults||{},i=t.extend({onOpen:null,uniqueBy:[],onClose:null,onChange:null,showClearButton:!1,quickLinks:"",dependsOn:[],ajaxUrl:null,headers:[],creatable:!1,hideExcluded:!0,placeHolder:"-- Select --",getAjaxDefaultPayload:function(){return{}},id:ly()},r,e);return this.each(function(){var e=t(this);if(!e.data(py)){e.attr(hy)&&(i.quickLinks=t(e.attr(hy)).prop("outerHTML")),e.attr(vy)&&(i.showClearButton="true"==e.attr(vy)),e.attr(yy)&&(i.headers=e.attr(yy).split(",").map(function(t){return t.trim()})),e.attr(gy)&&(i.ajaxUrl=e.attr(gy)),e.attr(by)&&(i.uniqueBy=e.attr(by).split(",").map(function(t){return t.trim()})),e.attr(wy)&&(i.creatable="true"==e.attr(wy)),e.attr(Sy)&&(i.hideExcluded="true"==e.attr(Sy)),e.attr($y)&&(i.multiple=e.prop($y));var n=e.attr(my);n&&(i.dependsOn=JSON.parse(n));var r=e.find('option[value="'.concat(e.val(),'"]'));r.length&&(i.placeHolder=r.text()||i.placeHolder),e.data(py,new Oy(e,i))}})};var Oy=function(){return r(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$select=e,this.options=n,this.isServerSide=!!n.ajaxUrl,this.pageSize=20,this.currentPage=0,this.hasMorePages=!0,this.isLoading=!1,this.initComplete=!1,this.uniqueSelectors=n.uniqueBy||[],this.isMultiple=n.multiple,this.init()},[{key:"init",value:function(){this.buildBaseStructure(),this.initializePopper(),(this.$select.is(":disabled")||this.$select.is("[readonly]"))&&this.disableSelect(),this.setupMutationObservers(),this.isServerSide?this.initializeServerSide():this.initializeClientSide()}},{key:"buildBaseStructure",value:function(){this.$wrapper=t('<div class="a-select-wrapper" data-aselect-id="'.concat(this.options.id,'""></div>')),this.$wrapper.data("select",this.$select),this.$display=t('<div class="a-select-display" tabindex="0"></div>').text(this.options.placeHolder),this.isMultiple||this.$display.css("min-height","".concat(this.$select.outerHeight(),"px")),this.$display.addClass(this.$select.attr("class")||""),this.updateDisplayContent(),this.isServerSide&&fy(this.$display,"Loading..."),this.$dropdown=t('<div class="a-select-dropdown card shadow-lg" data-aselect-id="'.concat(this.options.id,'" style="display: none; z-index: 9999;"></div>')),this.$filterConatiner=t('<div class="a-select-filter-container px-1 p-2"></div>'),this.$search=t('<input type="text" class="form-control form-control-sm" placeholder="Search..."/>'),this.$tableContainer=t('<div class="a-select-table-container overflow-y-auto" style="max-height: 400px;"></div>'),this.$table=t('<table class="table table-sm a-select-table mb-0" style="margin-bottom: 0;"></table>'),this.$tableHead=t('<thead class="bg-light position-sticky" style="z-index: 1;top:-1px"></thead>'),this.$tableHeadRow=t("<tr></tr>"),this.$tableBody=t("<tbody></tbody>"),this.$filterConatiner.append(this.$search).append(this.options.quickLinks),this.$tableHead.append(this.$tableHeadRow),this.$table.append(this.$tableHead).append(this.$tableBody),this.$tableContainer.append(this.$table),this.$dropdown.append(this.$filterConatiner).append(this.$tableContainer),this.$wrapper.append(this.$display).append(this.$dropdown),this.options.showClearButton&&(this.$clearButton=t('<button type="button" class="a-select-clear-button btn btn-sm position-absolute" tabindex="-1" aria-label="Clear selection"><i class="bi bi-x"></i></button>'),this.$wrapper.append(this.$clearButton)),this.$select.addClass("a-select-hidden").attr("data-aselect-id",this.options.id),this.$select.after(this.$wrapper)}},{key:"initializeClientSide",value:function(){var e=!1;if(this.options.headers.length){var n,r=i(this.options.headers);try{for(r.s();!(n=r.n()).done;){var o=uy(n.value);this.$tableHeadRow.append("<th>".concat(o,"</th>"))}}catch(t){r.e(t)}finally{r.f()}e=!0}var a=this;this.$select.find("option").each(function(){var n=t(this);if(n.val()){var r=t('<tr role="option"></tr>').attr("data-select-id",n.val());e?a.options.headers.forEach(function(t){var e=n.data("".concat(t.toLowerCase()))||"";r.append("<td>".concat(e,"</td>"))}):r.append("<td>".concat(n.text(),"</td>")),a.$tableBody.append(r)}}),this.finalizeInitialization()}},{key:"initializeServerSide",value:function(){var t=this;this.appendPlaceholderOption(),this.checkDependentFields(),this.bindDependentFields(),this.buildTableSchema().then(function(){t.finalizeInitialization()})}},{key:"bindDependentFields",value:function(){var e=this;this.options.dependsOn.forEach(function(n){var r=t(n.selector);r.length&&r.on("change.aSelect",function(){console.log("Dependent val changed:",r.val()),e.reload=!0,e.selectRow(""),e.checkDependentFields()})})}},{key:"appendPlaceholderOption",value:function(){var e=t("<option>").val("").text(this.options.placeHolder).attr("data-a","1");this.$select.append(e)}},{key:"finalizeInitialization",value:function(){var t=this.$select.val();t&&this.selectRow(t,!1),this.isServerSide&&dy(this.$display),this.bindEvents(),this.updateClearButtonVisibility(),this.initComplete=!0}},{key:"waitForInit",value:function(t){var e=this,n=setInterval(function(){e.initComplete&&(clearInterval(n),t())},50)}},{key:"bindEvents",value:function(){var t=this;this.updateEventsOnDisplay(),this.setupSearchEvent(),this.setupTableRowClickEvent(),this.setupMouseEvents(),this.setupDropdownKeyboardNavigation(),this.options.showClearButton&&this.$clearButton.on("click.aSelect",function(e){e.stopPropagation(),t.selectRow(""),t.isMultiple||t.closeDropdown()})}},{key:"setupDropdownKeyboardNavigation",value:function(){var t=this;this.$dropdown.on("keydown.aSelect",function(e){var n=t.$tableBody.find("tr:visible").not(".aselect-ignore, .a-select-row-exclude");if(t.options.creatable&&"Enter"===e.key&&1==n.length&&n.first().hasClass("a-select-creatable-row")){e.preventDefault();var r=t.$search.val().trim();r&&t.handleCreatableEntry(r)}else{var i=n.filter(".table-warning");if(i.length||(i=n.filter(".table-primary").first()),"ArrowDown"===e.key){e.preventDefault();var o=n.first();i.length&&(o=i.nextAll(":visible").not(".aselect-ignore, .a-select-row-exclude").first()),o.length&&(i.removeClass("table-warning"),o.addClass("table-warning"),cy(o,t.$tableContainer))}else if("ArrowUp"===e.key){e.preventDefault();var a=n.first();i.length&&(a=i.prevAll(":visible").not(".aselect-ignore, .a-select-row-exclude").first()),a.length&&(i.removeClass("table-warning"),a.addClass("table-warning"),cy(a,t.$tableContainer))}else if("Enter"===e.key||"Tab"===e.key){e.preventDefault();var s=i.attr("data-select-id");s&&(t.selectRow(s),t.closeDropdown())}else"Escape"===e.key&&(e.preventDefault(),t.closeDropdown())}})}},{key:"setupMouseEvents",value:function(){var e=this;this.$tableBody.on("mouseenter.aSelect","tr:not(.aselect-ignore)",function(){e.$tableBody.find("tr").removeClass("table-warning"),t(this).addClass("table-warning")}),this.$tableBody.on("mouseleave.aSelect","tr:not(.aselect-ignore)",function(){t(this).removeClass("table-warning")})}},{key:"setupTableRowClickEvent",value:function(){var e=this;this.$tableBody.on("click.aSelect","tr:not(.aselect-ignore)",function(){var n=t(this);if(!n.hasClass("a-select-row-exclude"))if(e.options.creatable&&n.hasClass("a-select-creatable-row")){var r=e.$search.val().trim();r&&e.handleCreatableEntry(r)}else{var i=n.attr("data-select-id");if(e.isMultiple)(e.$select.val()||[]).includes(i)?e.deselectValue(i):e.selectRow(i);else e.selectRow(i),e.closeDropdown()}})}},{key:"setupSearchEvent",value:function(){var e,n=this;this.$search.on("input.aSelect",function(){var r=t(this).val().trim(),i=r.toLowerCase();n.isServerSide&&n.bitImplementPagination?(clearTimeout(e),e=setTimeout(function(){n.loadedValSearchResult!=i&&(n.loadedValSearchResult=i,n.loadServerData(!0).then(function(){n.updateSelectedValueIfNeedOnSearch(n),n.handleCreatableOption(r),n.excludeRows()}))},300)):(n.$tableBody.find("tr").each(function(){var e=t(this),n=e.text().toLowerCase();e.toggle(n.includes(i))}),n.updateSelectedValueIfNeedOnSearch(n),n.handleCreatableOption(r))})}},{key:"handleCreatableOption",value:function(t){this.options.creatable&&t.length>0?0===this.$tableBody.find("tr:visible").not(".a-select-creatable-row, .aselect-ignore").length?this.showCreatableOption(t):this.hideCreatableOption():this.hideCreatableOption()}},{key:"showCreatableOption",value:function(e){this.hideCreatableOption();var n=t('\n                    <tr class="a-select-creatable-row table-success" data-creatable-row="true">\n                        <td colspan="'.concat(this.$tableHeadRow.find("th").length,'">\n                            <i class="bi bi-plus me-1"></i>Create new: "').concat(e,'"\n                        </td>\n                    </tr>\n                '));this.$tableBody.prepend(n)}},{key:"hideCreatableOption",value:function(){this.$tableBody.find(".a-select-creatable-row").remove()}},{key:"handleCreatableEntry",value:function(e){var n="new:"+e,r=t("<option>").val(n).text(e).attr("data-new","true");this.$select.append(r),this.selectRow(n),this.closeDropdown(),this.$search.val(""),this.hideCreatableOption(),this.$select.trigger("newentry",[n,e])}},{key:"initializePopper",value:function(){this.popperInstance=e.createPopper(this.$display[0],this.$dropdown[0],{placement:"bottom-start",modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"preventScroll",enabled:!0}]})}},{key:"disableSelect",value:function(){this.$wrapper.addClass("a-select-disabled"),this.updateEventsOnDisplay()}},{key:"enableSelect",value:function(){this.$wrapper.removeClass("a-select-disabled"),this.updateEventsOnDisplay()}},{key:"updateEventsOnDisplay",value:function(){if(this.$wrapper.hasClass("a-select-disabled"))this.$display.off("click.aSelect keydown.aSelect"),this.$display.attr("tabindex","-1"),this.$display.attr("aria-disabled","true");else{var t=this;this.$display.off("click.aSelect").on("click.aSelect",function(e){e.stopPropagation(),t.$dropdown.is(":visible")?t.closeDropdown():t.openDropdown()}),this.$display.off("keydown.aSelect").on("keydown.aSelect",function(e){if("Enter"===e.key||" "===e.key)e.preventDefault(),t.openDropdown();else if("ArrowDown"===e.key&&!$dropdown.is(":visible")){e.preventDefault(),t.openDropdown();var n=t.$tableBody.find("tr:visible").first();n.length&&n.addClass("table-warning")}}),this.$display.attr("tabindex","0"),this.$display.attr("aria-disabled","false")}}},{key:"closeDropdown",value:function(){this.$dropdown.hide(),this.$tableBody.find("tr.table-warning").removeClass("table-warning"),this.$wrapper.removeClass("a-select-open"),this.$dropdown.parent().is(this.$wrapper)||this.$dropdown.detach().appendTo(this.$wrapper),this.$scrollableParents&&this.$scrollableParents.each(function(){t(this).off("scroll.aSelect")}),t(document).off("mousedown.aSelect focusin.aSelect"),this.$display.trigger("focus")}},{key:"afterDropdownOpenDataLoad",value:function(){this.excludeRows(),this.setUpStylesOnDropdownOpen()}},{key:"setUpStylesOnDropdownOpen",value:function(){this.$dropdown.css({minWidth:this.$wrapper.outerWidth(),maxWidth:"80vw",width:"max-content"})}},{key:"adjustDropdownPosition",value:function(){for(var t=this.$dropdown.parent();t.length&&!t.is("body");){var e=t.css("overflowY");if("auto"===e||"scroll"===e)break;t=t.parent()}var n=this.$wrapper.offset(),r=t.offset(),i=n.top-r.top+this.$wrapper.outerHeight(),o=n.top-r.top,a=t.innerHeight()-i,s=Math.min(416,a);s<200&&o>200?(this.popperInstance.setOptions({placement:"top-start"}),s=200):this.popperInstance.setOptions({placement:"bottom-start"}),this.$tableContainer.css("max-height",s-63+"px"),this.popperInstance.update()}},{key:"scrollIntoSelectedRow",value:function(){var t=this.$select.val(),e=this.$tableBody.find('tr[data-select-id="'.concat(t,'"]:visible'));e.length&&cy(e,this.$tableContainer,!1)}},{key:"openDropdown",value:function(){var e=this;this.$dropdown.parent().is("body")||this.$dropdown.detach().appendTo("body"),this.$dropdown.show(),this.options.ajaxUrl?this.reload||!this.initialDataLoaded||this.loadedValSearchResult!=this.$search.val()&&this.bitImplementPagination?(this.loadedValSearchResult=this.$search.val(),this.reload=!1,this.initialDataLoaded=!0,this.loadServerData(!0).then(function(){e.afterDropdownOpenDataLoad()})):this.excludeRows():this.afterDropdownOpenDataLoad(),this.$wrapper.addClass("a-select-open"),this.popperInstance.update(),this.$search[0].focus({preventScroll:!0}),setTimeout(function(){e.adjustDropdownPosition()},0),this.$scrollableParents=this.$select.parents().filter(function(){return"auto"===t(this).css("overflow")||"scroll"===t(this).css("overflow-y")||"scroll"===t(this).css("overflow-x")}),this.$scrollableParents&&this.$scrollableParents.each(function(){t(this).on("scroll.aSelect",this.closeDropdown)}),this.scrollIntoSelectedRow();var n=this;t(document).on("mousedown.aSelect focusin.aSelect",function(e){t(e.target).closest('.a-select-wrapper[data-aselect-id="'.concat(n.options.id,'"]')).length||t(e.target).closest('.a-select-dropdown[data-aselect-id="'.concat(n.options.id,'"]')).length||n.closeDropdown()})}},{key:"loadServerData",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(r,i){var o=e.$table.find("thead tr td, thead tr th").length;n&&(e.currentPage=0,e.hasMorePages=!0,e.$tableBody.empty()),!e.isLoading&&e.hasMorePages?(e.isLoading=!0,t.ajax({url:e.options.ajaxUrl,method:"POST",data:s(s({},e.options.getAjaxDefaultPayload()),{},{start:e.currentPage*e.pageSize,length:e.$filterConatinerpageSize,search:e.bitImplementPagination?e.$search.val():"",valColumn:e.valColumn,selectedValue:e.$select.val(),onlyFetchSelectedRow:!1,initialLoad:!1,headers:e.options.headers,dependsOn:s({},e.getDependentFields())}),success:function(t){e.isLoading=!1;var n=t.data||[];if(!n.length)return 0==e.$tableBody.find("tr").length&&e.$tableBody.append('<tr class="table-danger aselect-ignore"><td colspan="'.concat(o||1,'" class="text-center">No data</td></tr>')),e.hasMorePages=!1,void r([]);n.forEach(function(t){e.upsertSelectOption(t),e.appendRowIfDoesNotExist(t)}),n.length<e.pageSize?e.hasMorePages=!1:e.currentPage++,r(n)},error:function(t,n,i){e.isLoading=!1,e.$tableBody.append('<tr class="table-danger aselect-ignore"><td colspan="'+(o||1)+'">Error loading data</td></tr>'),r()}})):r()})}},{key:"upsertSelectOption",value:function(e){var n=e[this.valColumn],r=e[this.textColumn],i=this.$select.find('option[value="'.concat(n,'"]'));if(0===i.length){for(var o in i=t("<option>").val(n).text(r).attr("data-a","1"),e)i.attr("data-".concat(o.toLowerCase()),e[o]);this.$select.append(i)}else for(var a in i.text(r),e)i.attr("data-".concat(a.toLowerCase()),e[a])}},{key:"appendRowIfDoesNotExist",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.$select.val(),i=e[this.valColumn];if(0==this.$tableBody.find('[data-select-id="'.concat(i,'"]')).length){var o=t("<tr>").attr("data-select-id",i);for(var a in e)this.skippedColumn.includes(a)||o.append("<td>".concat(e[a],"</td>"));r==i&&o.addClass("table-primary"),n?this.$tableBody.prepend(o):this.$tableBody.append(o)}}},{key:"getDependentFields",value:function(){var e={};return this.options.dependsOn.forEach(function(n){var r=t(n.selector);r.length&&(e[n.param]=r.val())}),e}},{key:"setupMutationObservers",value:function(){var t=this;this.observers=[];var e=new MutationObserver(function(e){e.forEach(function(e){if("attributes"===e.type&&"value"===e.attributeName){var n=t.$select.attr("value");n!==t.$select.data("last-val")&&(t.$select.data("last-val",n),t.initComplete?t.selectRow(n):t.waitForInit(function(){t.selectRow(n)}))}else"attributes"!==e.type||"disabled"!==e.attributeName&&"readonly"!=e.attributeName||(t.$select.is(":disabled")||t.$select.is("[readonly]")?t.disableSelect():t.enableSelect())})});if(e.observe(this.$select[0],{attributes:!0,attributeFilter:["value","disabled","readonly"]}),this.observers.push(e),!this.isServerSide){var n=new MutationObserver(function(e){var n=!1;e.forEach(function(t){"childList"===t.type&&t.addedNodes.length>0&&(n=!0)}),n&&t.refresh()});n.observe(this.$select[0],{childList:!0,subtree:!1}),this.observers.push(n)}}},{key:"highlightRow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$table.find("tbody tr").removeClass("table-primary");var n=this.$table.find('[data-select-id="'.concat(t,'"]'));n.length&&(n.addClass("table-primary"),this.$wrapper.hasClass("a-select-open")&&e&&cy(n,this.$tableContainer)),this.$tableBody.find("tbody tr").removeClass("table-warning")}},{key:"showSelectedValue",value:function(t,e){if(this.isMultiple){var n=this.$select.val();n.includes(t)||(n.push(t),sy.call(this.$select,n))}else sy.call(this.$select,t);e&&this.$select.trigger("change"),this.updateDisplayContent(),this.highlightSelectedRows(t)}},{key:"highlightSelectedRows",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$table.find("tbody tr").removeClass("table-primary"),this.isMultiple){(this.$select.val()||[]).forEach(function(e){var n=t.$table.find('[data-select-id="'.concat(e,'"]'));n.length&&n.addClass("table-primary")})}else{var n=this.$table.find('[data-select-id="'.concat(this.$select.val(),'"]'));n.length&&(n.addClass("table-primary"),this.$wrapper.hasClass("a-select-open")&&e&&cy(n,this.$tableContainer))}this.$tableBody.find("tbody tr").removeClass("table-warning")}},{key:"selectRow",value:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.$select.find('option[value="'.concat(e,'"]'));if(!i.length||this.options.ajaxUrl&&!i.attr("data-new")){if(this.options.ajaxUrl){if(!e)return this.showSelectedValue(e,r),void this.updateClearButtonVisibility();this.$tableBody.find('[data-select-id="'.concat(e,'"]')).length&&i.length?(this.showSelectedValue(e,r),this.updateClearButtonVisibility()):(i.length&&i.text()&&(this.$display.text(i.text()),this.updateClearButtonVisibility()),t.ajax({url:this.options.ajaxUrl,type:"POST",data:s({start:-1,length:-1,search:"",selectedValue:e,valColumn:this.valColumn,onlyFetchSelectedRow:!0,initialLoad:!1,headers:this.options.headers,dependsOn:s({},this.getDependentFields())},this.options.getAjaxDefaultPayload()),success:function(t){var i=t.selectedRow;i&&(n.upsertSelectOption(i),n.appendRowIfDoesNotExist(i,!0),n.showSelectedValue(e,r),n.updateClearButtonVisibility())},error:function(t,e,r){n.$tableBody.append('<tr class="table-danger aselect-ignore"><td colspan="'+(headerLength||1)+'">Error loading data</td></tr>')}}))}}else this.showSelectedValue(e,r),this.updateClearButtonVisibility()}},{key:"updateClearButtonVisibility",value:function(){if(this.options.showClearButton){var t=this.$select.val();if(this.isMultiple)(t||[]).length>0?this.$clearButton.show():this.$clearButton.hide();else t?this.$clearButton.show():this.$clearButton.hide()}}},{key:"buildTableSchema",value:function(){var e=this;return new Promise(function(n,r){var o=s({start:0,length:0,search:"",initialLoad:!0,onlyFetchSelectedRow:!1,dependsOn:s({},e.getDependentFields())},e.options.getAjaxDefaultPayload());t.ajax({url:e.options.ajaxUrl,type:"POST",data:o,success:function(t){e.bitImplementPagination=t.bitImplementPagination,e.skippedColumn=(t.vcSkippedColumns||"").split(",").map(function(t){return t.trim()}).filter(function(t){return t}),e.textColumn=t.vcTextColumn,e.valColumn=t.vcValColumn;var r=t.data||[];e.options.headers=Object.keys(r[0]);var o=e.options.headers.filter(function(t){return!e.skippedColumn.includes(t)});if(o.length>1){var a,s=i(o);try{for(s.s();!(a=s.n()).done;){var l=uy(a.value);e.$tableHeadRow.append("<th>".concat(l,"</th>"))}}catch(t){s.e(t)}finally{s.f()}}e.bitImplementPagination&&e.$tableContainer.on("scroll",function(){if(e.hasMorePages&&!e.isLoading){var t=e.$tableContainer.scrollTop(),n=e.$tableContainer[0].scrollHeight;t+e.$tableContainer.innerHeight()>=n-50&&e.loadServerData()}}),n([])},error:function(){e.$tableBody.html("<tr><td>Error loading data</td></tr>"),n([])}})})}},{key:"checkDependentFields",value:function(){if(!this.options.dependsOn||0===this.options.dependsOn.length)return!0;var e=!0,n=[];return this.options.dependsOn.forEach(function(r){var i=t(r.selector);if(i.length&&(!i.val()||""===i.val())){e=!1;var o=i.data("label");n.push(o)}}),e?(this.$wrapper.hasClass("a-select-disabled")&&this.enableSelect(),dy(this.$wrapper)):(this.$wrapper.hasClass("a-select-disabled")||this.disableSelect(),fy(this.$wrapper,"Please select ".concat(n.join(" and ")," first"))),e}},{key:"updateSelectedValueIfNeedOnSearch",value:function(t){if(!t.isMultiple){var e=this.$select.val();if(!this.$tableBody.find('tr[data-select-id="'.concat(e,'"]:visible')).length){var n=this.$tableBody.find("tr:visible").not(".aselect-ignore").first();if(n.length){var r=n.attr("data-select-id");r&&this.selectRow(r)}}}}},{key:"getUniqueValuesToExclude",value:function(){var e=this,n=[];return this.uniqueSelectors.forEach(function(r){t(r).not(e.$select).each(function(){var e=t(this).val();e&&n.push(e)})}),n}},{key:"excludeRows",value:function(){var e=this;if(this.uniqueSelectors.length>0){var n=this.getUniqueValuesToExclude();this.$tableBody.find("tr[data-select-id]").each(function(r,i){var o=t(i),a=o.attr("data-select-id");n.includes(a)?(o.addClass("a-select-row-exclude"),e.options.hideExcluded&&o.addClass("d-none")):(o.removeClass("a-select-row-exclude"),e.options.hideExcluded&&o.removeClass("d-none"))})}}},{key:"deselectValue",value:function(t){if(this.isMultiple){var e=(this.$select.val()||[]).filter(function(e){return e!=t});sy.call(this.$select,e),this.$select.trigger("change"),this.updateDisplayContent(),this.highlightSelectedRows(),this.updateClearButtonVisibility()}}},{key:"updateDisplayContent",value:function(){var e=this;if(this.isMultiple){this.$select.val();var n=this.$select.find("option:selected");if(0===n.length)this.$display.text(this.options.placeHolder),this.$display.removeClass("a-select-multiple-display");else{this.$display.addClass("a-select-multiple-display");var r=n.map(function(e,n){var r=t(n);return'\n                        <span class="a-select-chip">\n                            '.concat(r.text(),'\n                            <button type="button" class="a-select-chip-remove" data-value="').concat(r.val(),'">\n                                <i class="bi bi-x"></i>\n                            </button>\n                        </span>\n                    ')}).get().join("");this.$display.html(r),this.$display.find(".a-select-chip-remove").on("click",function(n){n.stopPropagation();var r=t(n.currentTarget).data("value");e.deselectValue(r)})}}else{var i=this.$select.val(),o=this.$select.find('option[value="'.concat(i,'"]')),a=o.length?o.text():this.options.placeHolder;this.$display.text(a)}}},{key:"cleanUp",value:function(){this.$wrapper.find("*").off(".aSelect"),t(document).off(".aSelect"),this.$wrapper.tooltip("dispose");var e,n=i(this.observers);try{for(n.s();!(e=n.n()).done;){e.value.disconnect()}}catch(t){n.e(t)}finally{n.f()}this.$select.find("option[data-a]").remove(),this.$select.removeClass("a-select-hidden").css("display","").removeData(py),this.$wrapper.remove()}},{key:"destroy",value:function(){this.cleanUp()}},{key:"refresh",value:function(){this.cleanUp(),this.$select.aSelect(this.options)}}])}();return window.ASelect=Oy,Oy});
